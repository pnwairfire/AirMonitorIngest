<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Download hourly EPA air quality data — epa_aqs_downloadHourlyData • AirMonitorIngest</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Download hourly EPA air quality data — epa_aqs_downloadHourlyData" />
<meta property="og:description" content="Download hourly air quality data from the US EPA and save it to a directory.
EPA parameter codes and (start year) include:

44201 -- Ozone (1980)
42401 -- SO2 (1980)
42101 -- CO (1980)
42602 -- NO2 (1980)
88101 -- PM2.5 FRM/FEM (2008)
88502 -- PM2.5 non FRM/FEM (1998)
81102 -- PM10 (1988)
SPEC -- PM2.5 Speciation(2001)
PM10SPEC -- PM10 Speciation (1988)
WIND -- Winds (1980)
TEMP -- Temperature (1980)
PRESS -- Barometric Pressure (1980)
RH_DP -- RH and Dewpoint (1980)
HAPS -- HAPs (1993)
VOCS -- VOCs (1980)
NONOxNOy (1980)

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AirMonitorIngest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/AirMonitorIngest.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Developer_Style_Guide.html">Developer Style Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pnwairfire/AirMonitorIngest/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download hourly EPA air quality data</h1>
    <small class="dont-index">Source: <a href='https://github.com/pnwairfire/AirMonitorIngest/blob/master/R/epa_aqs_downloadHourlyData.R'><code>R/epa_aqs_downloadHourlyData.R</code></a></small>
    <div class="hidden name"><code>epa_aqs_downloadHourlyData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Download hourly air quality data from the US EPA and save it to a directory.</p>
<p>EPA parameter codes and (start year) include:</p>
<ol>
<li><p>44201 -- Ozone (1980)</p></li>
<li><p>42401 -- SO2 (1980)</p></li>
<li><p>42101 -- CO (1980)</p></li>
<li><p>42602 -- NO2 (1980)</p></li>
<li><p>88101 -- PM2.5 FRM/FEM (2008)</p></li>
<li><p>88502 -- PM2.5 non FRM/FEM (1998)</p></li>
<li><p>81102 -- PM10 (1988)</p></li>
<li><p>SPEC -- PM2.5 Speciation(2001)</p></li>
<li><p>PM10SPEC -- PM10 Speciation (1988)</p></li>
<li><p>WIND -- Winds (1980)</p></li>
<li><p>TEMP -- Temperature (1980)</p></li>
<li><p>PRESS -- Barometric Pressure (1980)</p></li>
<li><p>RH_DP -- RH and Dewpoint (1980)</p></li>
<li><p>HAPS -- HAPs (1993)</p></li>
<li><p>VOCS -- VOCs (1980)</p></li>
<li><p>NONOxNOy (1980)</p></li>
</ol>

    </div>

    <pre class="usage"><span class='fu'>epa_aqs_downloadHourlyData</span><span class='op'>(</span>
  parameterCode <span class='op'>=</span> <span class='st'>"88101"</span>,
  year <span class='op'>=</span> <span class='cn'>NULL</span>,
  baseUrl <span class='op'>=</span> <span class='st'>"https://aqs.epa.gov/aqsweb/airdata/"</span>,
  downloadDir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>,
  quiet <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>parameterCode</th>
      <td><p>Character pollutant code.</p></td>
    </tr>
    <tr>
      <th>year</th>
      <td><p>Ingeter year.</p></td>
    </tr>
    <tr>
      <th>baseUrl</th>
      <td><p>Character base URL for the EPA AQS archive.</p></td>
    </tr>
    <tr>
      <th>downloadDir</th>
      <td><p>Directory where .zip file will be saved.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>Logical passed on to <code><a href='https://rdrr.io/r/utils/download.file.html'>utils::download.file()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Filepath of the downloaded zip file.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Unzipped CSV files are almost 100X larger than the compressed .zip files.</p>
<p>Depending on your internet connection speeds, downloading files from the EPA
site can take several minutes per file. If you see warning messages that you have
timed out, please download files manually. Functions that process these files
will then discover the downloaded files in the <code>downloadDir</code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://aqs.epa.gov/aqsweb/airdata/download_files.html#Raw'>EPA AirData Pre-Generated Data Files</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/pnwairfire/AirMonitorIngest'>AirMonitorIngest</a></span><span class='op'>)</span>

<span class='co'># Create a directory specifically for EPA data</span>
<span class='fu'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span><span class='op'>(</span><span class='st'>"~/Data/EPA"</span>, recursive <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Set logging level so messages and errors will appear in the console</span>
<span class='fu'>MazamaCoreUtils</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/MazamaCoreUtils/man/initializeLogging.html'>initializeLogging</a></span><span class='op'>(</span>logDir <span class='op'>=</span> <span class='st'>"~/Data/EPA/"</span><span class='op'>)</span>
<span class='fu'>logger.setLevel</span><span class='op'>(</span><span class='va'>TRACE</span><span class='op'>)</span>

<span class='co'># Save the download in ~/Data/EPA</span>
<span class='va'>zipFile</span> <span class='op'>&lt;-</span>
  <span class='fu'>epa_aqs_downloadHourlyData</span><span class='op'>(</span>
    parameterCode <span class='op'>=</span> <span class='st'>"88101"</span>,
    year <span class='op'>=</span> <span class='fl'>2008</span>,
    downloadDir <span class='op'>=</span> <span class='st'>"~/Data/EPA/"</span>,
    quiet <span class='op'>=</span> <span class='cn'>FALSE</span>
  <span class='op'>)</span>

<span class='co'># Uncompress and parse into a tibble</span>
<span class='va'>tbl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='epa_aqs_parseHourlyData.html'>epa_aqs_parseHourlyData</a></span><span class='op'>(</span><span class='va'>zipFile</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Callahan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


